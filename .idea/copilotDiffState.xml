<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/tools/config_app.ps1">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/tools/config_app.ps1" />
              <option name="originalContent" value="# config_app.ps1&#10;# This script provides a menu-based interface for configuring the Sandi app.&#10;# It allows updating version numbers and app description.&#10;&#10;param (&#10;    [switch]$Help,&#10;    [switch]$NonInteractive  # For use by build.ps1&#10;)&#10;&#10;# Function to display help information for version numbers&#10;function Show-VersionHelp&#10;{&#10;    param (&#10;        [switch]$ExitAfter&#10;    )&#10;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;                 VERSION NUMBER HELP                    &quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Semantic Versioning Explained:&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;MAJOR version (X.y.z)&quot;&#10;    Write-Host &quot;  Increment when you make incompatible API changes.&quot;&#10;    Write-Host &quot;  Example: Breaking changes that require users to modify their code.&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;MINOR version (x.Y.z)&quot;&#10;    Write-Host &quot;  Increment when you add functionality in a backward-compatible manner.&quot;&#10;    Write-Host &quot;  Example: New features that don't break existing functionality.&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;PATCH version (x.y.Z)&quot;&#10;    Write-Host &quot;  Increment when you make backward-compatible bug fixes.&quot;&#10;    Write-Host &quot;  Example: Bug fixes that don't change or break existing functionality.&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;BUILD number (x.y.z+B)&quot;&#10;    Write-Host &quot;  Increment for builds that don't change the public API.&quot;&#10;    Write-Host &quot;  Example: Internal changes, performance improvements, or rebuilds.&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;For more information, visit: https://semver.org/&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;&#10;    if ($ExitAfter)&#10;    {&#10;        exit 0&#10;    }&#10;}&#10;&#10;# Function to display help information for the app description&#10;function Show-DescriptionHelp&#10;{&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;               APP DESCRIPTION HELP                     &quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;The app description is a short text that describes the purpose&quot;&#10;    Write-Host &quot;and functionality of the Sandi app. It is used in various places:&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;- In the pubspec.yaml file for the Flutter app description&quot;&#10;    Write-Host &quot;- In the app's About dialog&quot;&#10;    Write-Host &quot;- In app stores and distribution platforms&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Guidelines for a good app description:&quot;&#10;    Write-Host &quot;- Keep it concise but informative&quot;&#10;    Write-Host &quot;- Mention the app's main purpose and target audience&quot;&#10;    Write-Host &quot;- Avoid technical jargon unless necessary&quot;&#10;    Write-Host &quot;- Consider localization needs if the app is multilingual&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;}&#10;&#10;# Function to display the main help information&#10;function Show-MainHelp&#10;{&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;                 SANDI CONFIG TOOL HELP                 &quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;This tool allows you to configure various aspects of the Sandi app:&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;1. Update Version - Change the version numbers (major, minor, patch, build)&quot;&#10;    Write-Host &quot;2. Update Description - Modify the app description text&quot;&#10;    Write-Host &quot;3. Help - Display this help information&quot;&#10;    Write-Host &quot;4. Exit - Exit the configuration tool&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Command-line parameters:&quot;&#10;    Write-Host &quot;  -Help            : Display this help information&quot;&#10;    Write-Host &quot;  -NonInteractive  : Update version numbers without user interaction&quot;&#10;    Write-Host &quot;                     (used by build.ps1)&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Examples:&quot;&#10;    Write-Host &quot;  .\config_app.ps1             : Start the interactive configuration tool&quot;&#10;    Write-Host &quot;  .\config_app.ps1 -Help       : Display this help information&quot;&#10;    Write-Host &quot;  .\config_app.ps1 -NonInteractive : Update version numbers non-interactively&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;}&#10;&#10;# Function to get version input with help support&#10;function Get-VersionInput&#10;{&#10;    param (&#10;        [string]$PromptText,&#10;        [string]$DefaultValue&#10;    )&#10;&#10;    $inputComplete = $false&#10;    $result = $DefaultValue&#10;&#10;    while (-not $inputComplete)&#10;    {&#10;        $input = Read-Host &quot;$PromptText [$DefaultValue]&quot;&#10;&#10;        if ( [string]::IsNullOrWhiteSpace($input))&#10;        {&#10;            $result = $DefaultValue&#10;            $inputComplete = $true&#10;        }&#10;        elseif ($input.ToLower() -eq &quot;help&quot;)&#10;        {&#10;            Show-VersionHelp&#10;            Write-Host &quot;Enter new version numbers (press Enter to keep current value):&quot;&#10;            Write-Host &quot;Type 'help' at any prompt to see explanations of version numbers.&quot;&#10;            Write-Host &quot;&quot;&#10;        }&#10;        else&#10;        {&#10;            $result = $input&#10;            $inputComplete = $true&#10;        }&#10;    }&#10;&#10;    return $result&#10;}&#10;&#10;# Pfad zum aktuellen Skriptverzeichnis&#10;$scriptDir = Split-Path -Path $MyInvocation.MyCommand.Definition -Parent&#10;&#10;# Pfade zu den relevanten Dateien&#10;$appConfigPath = Join-Path -Path $scriptDir -ChildPath &quot;..\moonforge\lib\core\constants\app_config.dart&quot;&#10;$versionDartPath = Join-Path -Path $scriptDir -ChildPath &quot;..\moonforge\lib\core\constants\version.dart&quot;&#10;$pubspecPath = Join-Path -Path $scriptDir -ChildPath &quot;..\moonforge\pubspec.yaml&quot;&#10;$pkgbuildPath = Join-Path -Path $scriptDir -ChildPath &quot;..\moonforge\arch_build\PKGBUILD&quot;&#10;&#10;# Use version.dart if app_config.dart doesn't exist yet&#10;if (-not (Test-Path $appConfigPath) -and (Test-Path $versionDartPath))&#10;{&#10;    $appConfigPath = $versionDartPath&#10;}&#10;&#10;# Überprüfen, ob die Konfigurationsdatei existiert&#10;if (-not (Test-Path $appConfigPath))&#10;{&#10;    Write-Error &quot;Configuration file not found: $appConfigPath&quot;&#10;    exit 1&#10;}&#10;&#10;# Show help if requested&#10;if ($Help)&#10;{&#10;    Show-MainHelp&#10;    exit 0&#10;}&#10;&#10;# Function to update version numbers&#10;function Update-Version&#10;{&#10;    param (&#10;        [switch]$NonInteractive&#10;    )&#10;&#10;    # Version aus app_config.dart extrahieren&#10;    $configContent = Get-Content $appConfigPath -Raw&#10;    $majorVersion = [regex]::Match($configContent, 'versionMajor\s*=\s*(\d+)').Groups[1].Value&#10;    $minorVersion = [regex]::Match($configContent, 'versionMinor\s*=\s*(\d+)').Groups[1].Value&#10;    $patchVersion = [regex]::Match($configContent, 'versionPatch\s*=\s*(\d+)').Groups[1].Value&#10;    $buildVersion = [regex]::Match($configContent, 'versionBuild\s*=\s*(\d+)').Groups[1].Value&#10;    $appDescription = [regex]::Match($configContent, 'appDescription\s*=\s*''([^'']+)''').Groups[1].Value&#10;&#10;    # Versionstrings erstellen&#10;    $currentPubspecVersion = &quot;$majorVersion.$minorVersion.$patchVersion+$buildVersion&quot;&#10;    $currentMsixVersion = &quot;$majorVersion.$minorVersion.$patchVersion.$buildVersion&quot;&#10;    $currentPkgbuildVersion = &quot;$majorVersion.$minorVersion.$patchVersion&quot;&#10;&#10;    # Aktuelle Version anzeigen&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;                 SANDI VERSION UPDATER                  &quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Current version: v$majorVersion.$minorVersion.$patchVersion (Build $buildVersion)&quot;&#10;    Write-Host &quot;Description: $appDescription&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Version details:&quot;&#10;    Write-Host &quot;  - Pubspec: $currentPubspecVersion&quot;&#10;    Write-Host &quot;  - MSIX:    $currentMsixVersion&quot;&#10;    Write-Host &quot;  - PKGBUILD: $currentPkgbuildVersion&quot;&#10;    Write-Host &quot;&quot;&#10;&#10;    if ($NonInteractive)&#10;    {&#10;        # In non-interactive mode, just update the files with current version&#10;        $newMajorVersion = $majorVersion&#10;        $newMinorVersion = $minorVersion&#10;        $newPatchVersion = $patchVersion&#10;        $newBuildVersion = $buildVersion&#10;    }&#10;    else&#10;    {&#10;        Write-Host &quot;TIP: Type 'help' at any prompt to see explanations of version numbers.&quot;&#10;        Write-Host &quot;&quot;&#10;        Write-Host &quot;========================================================&quot;&#10;        Write-Host &quot;&quot;&#10;&#10;        # Benutzer nach neuer Version fragen&#10;        Write-Host &quot;Enter new version numbers (press Enter to keep current value):&quot;&#10;        Write-Host &quot;&quot;&#10;&#10;        $newMajorVersion = Get-VersionInput -PromptText &quot;Major version&quot; -DefaultValue $majorVersion&#10;        $newMinorVersion = Get-VersionInput -PromptText &quot;Minor version&quot; -DefaultValue $minorVersion&#10;        $newPatchVersion = Get-VersionInput -PromptText &quot;Patch version&quot; -DefaultValue $patchVersion&#10;        $newBuildVersion = Get-VersionInput -PromptText &quot;Build number&quot; -DefaultValue $buildVersion&#10;&#10;        # Neue Versionstrings erstellen&#10;        $pubspecVersion = &quot;$newMajorVersion.$newMinorVersion.$newPatchVersion+$newBuildVersion&quot;&#10;        $msixVersion = &quot;$newMajorVersion.$newMinorVersion.$newPatchVersion.$newBuildVersion&quot;&#10;        $pkgbuildVersion = &quot;$newMajorVersion.$newMinorVersion.$newPatchVersion&quot;&#10;&#10;        Write-Host &quot;&quot;&#10;        Write-Host &quot;New version will be: v$newMajorVersion.$newMinorVersion.$newPatchVersion (Build $newBuildVersion)&quot;&#10;        $confirmation = Read-Host &quot;Do you want to proceed? (Y/N)&quot;&#10;&#10;        if ($confirmation -ne &quot;Y&quot; -and $confirmation -ne &quot;y&quot;)&#10;        {&#10;            Write-Host &quot;Version update cancelled.&quot;&#10;            return&#10;        }&#10;    }&#10;&#10;    # Neue Versionstrings erstellen&#10;    $pubspecVersion = &quot;$newMajorVersion.$newMinorVersion.$newPatchVersion+$newBuildVersion&quot;&#10;    $msixVersion = &quot;$newMajorVersion.$newMinorVersion.$newPatchVersion.$newBuildVersion&quot;&#10;    $pkgbuildVersion = &quot;$newMajorVersion.$newMinorVersion.$newPatchVersion&quot;&#10;&#10;    # app_config.dart aktualisieren&#10;    Write-Host &quot;Updating app_config.dart...&quot;&#10;    $configContent = [regex]::Replace($configContent, 'versionMajor\s*=\s*\d+', &quot;versionMajor = $newMajorVersion&quot;)&#10;    $configContent = [regex]::Replace($configContent, 'versionMinor\s*=\s*\d+', &quot;versionMinor = $newMinorVersion&quot;)&#10;    $configContent = [regex]::Replace($configContent, 'versionPatch\s*=\s*\d+', &quot;versionPatch = $newPatchVersion&quot;)&#10;    $configContent = [regex]::Replace($configContent, 'versionBuild\s*=\s*\d+', &quot;versionBuild = $newBuildVersion&quot;)&#10;    Set-Content -Path $appConfigPath -Value $configContent&#10;&#10;    # pubspec.yaml aktualisieren&#10;    Write-Host &quot;Updating pubspec.yaml...&quot;&#10;    $pubspecContent = Get-Content $pubspecPath -Raw&#10;    $pubspecContent = [regex]::Replace($pubspecContent, 'version:\s*[\d\.]+\+\d+', &quot;version: $pubspecVersion&quot;)&#10;    $pubspecContent = [regex]::Replace($pubspecContent, 'msix_version:\s*[\d\.]+', &quot;msix_version: $msixVersion&quot;)&#10;    Set-Content -Path $pubspecPath -Value $pubspecContent&#10;&#10;    # PKGBUILD aktualisieren&#10;    Write-Host &quot;Updating PKGBUILD...&quot;&#10;    if (Test-Path -LiteralPath $pkgbuildPath)&#10;    {&#10;        try&#10;        {&#10;            $pkgbuildContent = Get-Content -LiteralPath $pkgbuildPath -Raw&#10;            $pkgbuildContent = [regex]::Replace($pkgbuildContent, 'pkgver=[\d\.]+', &quot;pkgver=$pkgbuildVersion&quot;)&#10;            Set-Content -LiteralPath $pkgbuildPath -Value $pkgbuildContent&#10;        }&#10;        catch&#10;        {&#10;            Write-Host &quot;Skipping PKGBUILD update (error accessing file: $pkgbuildPath)&quot;&#10;            Write-Host &quot;  Details: $( $_.Exception.Message )&quot;&#10;        }&#10;    }&#10;    else&#10;    {&#10;        Write-Host &quot;Skipping PKGBUILD update (file not found: $pkgbuildPath)&quot;&#10;    }&#10;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Version update completed successfully!&quot;&#10;    Write-Host &quot;New version: v$newMajorVersion.$newMinorVersion.$newPatchVersion (Build $newBuildVersion)&quot;&#10;}&#10;&#10;# Function to update app description&#10;function Update-Description&#10;{&#10;    # Description aus app_config.dart extrahieren&#10;    $configContent = Get-Content $appConfigPath -Raw&#10;    $appDescription = [regex]::Match($configContent, 'appDescription\s*=\s*''([^'']+)''').Groups[1].Value&#10;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;              SANDI DESCRIPTION UPDATER                 &quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Current app description:&quot;&#10;    Write-Host &quot;  $appDescription&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;TIP: Type 'help' to see guidelines for writing a good app description.&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;&#10;    # Benutzer nach neuer Beschreibung fragen&#10;    Write-Host &quot;Enter new app description (press Enter to keep current value):&quot;&#10;    Write-Host &quot;Type 'help' to see guidelines for writing a good app description.&quot;&#10;    Write-Host &quot;&quot;&#10;&#10;    $inputComplete = $false&#10;    $newDescription = $appDescription&#10;&#10;    while (-not $inputComplete)&#10;    {&#10;        $input = Read-Host &quot;Description&quot;&#10;&#10;        if ( [string]::IsNullOrWhiteSpace($input))&#10;        {&#10;            $newDescription = $appDescription&#10;            $inputComplete = $true&#10;        }&#10;        elseif ($input.ToLower() -eq &quot;help&quot;)&#10;        {&#10;            Show-DescriptionHelp&#10;        }&#10;        else&#10;        {&#10;            $newDescription = $input&#10;            $inputComplete = $true&#10;        }&#10;    }&#10;&#10;    if ($newDescription -eq $appDescription)&#10;    {&#10;        Write-Host &quot;Description unchanged.&quot;&#10;        return&#10;    }&#10;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;New description will be:&quot;&#10;    Write-Host &quot;  $newDescription&quot;&#10;    $confirmation = Read-Host &quot;Do you want to proceed? (Y/N)&quot;&#10;&#10;    if ($confirmation -ne &quot;Y&quot; -and $confirmation -ne &quot;y&quot;)&#10;    {&#10;        Write-Host &quot;Description update cancelled.&quot;&#10;        return&#10;    }&#10;&#10;    # app_config.dart aktualisieren&#10;    Write-Host &quot;Updating app_config.dart...&quot;&#10;    $configContent = [regex]::Replace($configContent, &quot;appDescription\s*=\s*'[^']+'&quot;, &quot;appDescription = '$newDescription'&quot;)&#10;    Set-Content -Path $appConfigPath -Value $configContent&#10;&#10;    # pubspec.yaml aktualisieren&#10;    Write-Host &quot;Updating pubspec.yaml...&quot;&#10;    $pubspecContent = Get-Content $pubspecPath -Raw&#10;    $pubspecContent = [regex]::Replace($pubspecContent, 'description:\s*&quot;[^&quot;]+&quot;', &quot;description: `&quot;$newDescription`&quot;&quot;)&#10;    Set-Content -Path $pubspecPath -Value $pubspecContent&#10;&#10;    # PKGBUILD aktualisieren&#10;    Write-Host &quot;Updating PKGBUILD description...&quot;&#10;    if (Test-Path -LiteralPath $pkgbuildPath)&#10;    {&#10;        try&#10;        {&#10;            $pkgbuildContent = Get-Content -LiteralPath $pkgbuildPath -Raw&#10;            $pkgbuildContent = [regex]::Replace($pkgbuildContent,'pkgdesc=&quot;[^&quot;]+&quot;', &quot;pkgdesc=\&quot;$newDescription\&quot;&quot;)&#10;            Set-Content -LiteralPath $pkgbuildPath -Value $pkgbuildContent&#10;        }&#10;        catch&#10;        {&#10;            Write-Host &quot;Skipping PKGBUILD description update (error accessing file: $pkgbuildPath)&quot;&#10;            Write-Host &quot;  Details: $( $_.Exception.Message )&quot;&#10;        }&#10;    }&#10;    else&#10;    {&#10;        Write-Host &quot;Skipping PKGBUILD description update (file not found: $pkgbuildPath)&quot;&#10;    }&#10;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Description update completed successfully!&quot;&#10;    Write-Host &quot;New description: $newDescription&quot;&#10;}&#10;&#10;# Run in non-interactive mode if requested (for build.ps1)&#10;if ($NonInteractive)&#10;{&#10;    Update-Version -NonInteractive&#10;    exit 0&#10;}&#10;&#10;# Main menu loop&#10;$exitRequested = $false&#10;&#10;while (-not $exitRequested)&#10;{&#10;    Clear-Host&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;                 SANDI CONFIGURATION TOOL               &quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Please select an option:&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;1. Update Version&quot;&#10;    Write-Host &quot;2. Update Description&quot;&#10;    Write-Host &quot;3. Help&quot;&#10;    Write-Host &quot;4. Exit&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;&#10;    $choice = Read-Host &quot;Enter your choice (1-4)&quot;&#10;&#10;    switch ($choice)&#10;    {&#10;        &quot;1&quot; {&#10;            Clear-Host&#10;            Update-Version&#10;            Write-Host &quot;&quot;&#10;            Write-Host &quot;Press Enter to return to the main menu...&quot;&#10;            Read-Host&#10;        }&#10;        &quot;2&quot; {&#10;            Clear-Host&#10;            Update-Description&#10;            Write-Host &quot;&quot;&#10;            Write-Host &quot;Press Enter to return to the main menu...&quot;&#10;            Read-Host&#10;        }&#10;        &quot;3&quot; {&#10;            Clear-Host&#10;            Show-MainHelp&#10;            Write-Host &quot;Press Enter to return to the main menu...&quot;&#10;            Read-Host&#10;        }&#10;        &quot;4&quot; {&#10;            $exitRequested = $true&#10;            Write-Host &quot;Exiting configuration tool.&quot;&#10;        }&#10;        default {&#10;            Write-Host &quot;Invalid choice. Please enter a number between 1 and 4.&quot;&#10;            Write-Host &quot;Press Enter to continue...&quot;&#10;            Read-Host&#10;        }&#10;    }&#10;}" />
              <option name="updatedContent" value="# config_app.ps1&#10;# This script provides a menu-based interface for configuring the Sandi app.&#10;# It allows updating version numbers and app description.&#10;&#10;param (&#10;    [switch]$Help,&#10;    [switch]$NonInteractive  # For use by build.ps1&#10;)&#10;&#10;# Function to display help information for version numbers&#10;function Show-VersionHelp&#10;{&#10;    param (&#10;        [switch]$ExitAfter&#10;    )&#10;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;                 VERSION NUMBER HELP                    &quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Semantic Versioning Explained:&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;MAJOR version (X.y.z)&quot;&#10;    Write-Host &quot;  Increment when you make incompatible API changes.&quot;&#10;    Write-Host &quot;  Example: Breaking changes that require users to modify their code.&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;MINOR version (x.Y.z)&quot;&#10;    Write-Host &quot;  Increment when you add functionality in a backward-compatible manner.&quot;&#10;    Write-Host &quot;  Example: New features that don't break existing functionality.&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;PATCH version (x.y.Z)&quot;&#10;    Write-Host &quot;  Increment when you make backward-compatible bug fixes.&quot;&#10;    Write-Host &quot;  Example: Bug fixes that don't change or break existing functionality.&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;BUILD number (x.y.z+B)&quot;&#10;    Write-Host &quot;  Increment for builds that don't change the public API.&quot;&#10;    Write-Host &quot;  Example: Internal changes, performance improvements, or rebuilds.&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;For more information, visit: https://semver.org/&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;&#10;    if ($ExitAfter)&#10;    {&#10;        exit 0&#10;    }&#10;}&#10;&#10;# Function to display help information for the app description&#10;function Show-DescriptionHelp&#10;{&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;               APP DESCRIPTION HELP                     &quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;The app description is a short text that describes the purpose&quot;&#10;    Write-Host &quot;and functionality of the Sandi app. It is used in various places:&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;- In the pubspec.yaml file for the Flutter app description&quot;&#10;    Write-Host &quot;- In the app's About dialog&quot;&#10;    Write-Host &quot;- In app stores and distribution platforms&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Guidelines for a good app description:&quot;&#10;    Write-Host &quot;- Keep it concise but informative&quot;&#10;    Write-Host &quot;- Mention the app's main purpose and target audience&quot;&#10;    Write-Host &quot;- Avoid technical jargon unless necessary&quot;&#10;    Write-Host &quot;- Consider localization needs if the app is multilingual&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;}&#10;&#10;# Function to display the main help information&#10;function Show-MainHelp&#10;{&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;                 SANDI CONFIG TOOL HELP                 &quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;This tool allows you to configure various aspects of the Sandi app:&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;1. Update Version - Change the version numbers (major, minor, patch, build)&quot;&#10;    Write-Host &quot;2. Update Description - Modify the app description text&quot;&#10;    Write-Host &quot;3. Help - Display this help information&quot;&#10;    Write-Host &quot;4. Exit - Exit the configuration tool&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Command-line parameters:&quot;&#10;    Write-Host &quot;  -Help            : Display this help information&quot;&#10;    Write-Host &quot;  -NonInteractive  : Update version numbers without user interaction&quot;&#10;    Write-Host &quot;                     (used by build.ps1)&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Examples:&quot;&#10;    Write-Host &quot;  .\config_app.ps1             : Start the interactive configuration tool&quot;&#10;    Write-Host &quot;  .\config_app.ps1 -Help       : Display this help information&quot;&#10;    Write-Host &quot;  .\config_app.ps1 -NonInteractive : Update version numbers non-interactively&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;}&#10;&#10;# Function to get version input with help support&#10;function Get-VersionInput&#10;{&#10;    param (&#10;        [string]$PromptText,&#10;        [string]$DefaultValue&#10;    )&#10;&#10;    $inputComplete = $false&#10;    $result = $DefaultValue&#10;&#10;    while (-not $inputComplete)&#10;    {&#10;        $input = Read-Host &quot;$PromptText [$DefaultValue]&quot;&#10;&#10;        if ( [string]::IsNullOrWhiteSpace($input))&#10;        {&#10;            $result = $DefaultValue&#10;            $inputComplete = $true&#10;        }&#10;        elseif ($input.ToLower() -eq &quot;help&quot;)&#10;        {&#10;            Show-VersionHelp&#10;            Write-Host &quot;Enter new version numbers (press Enter to keep current value):&quot;&#10;            Write-Host &quot;Type 'help' at any prompt to see explanations of version numbers.&quot;&#10;            Write-Host &quot;&quot;&#10;        }&#10;        else&#10;        {&#10;            $result = $input&#10;            $inputComplete = $true&#10;        }&#10;    }&#10;&#10;    return $result&#10;}&#10;&#10;# Pfad zum aktuellen Skriptverzeichnis&#10;$scriptDir = Split-Path -Path $MyInvocation.MyCommand.Definition -Parent&#10;&#10;# Pfade zu den relevanten Dateien&#10;$appConfigPath = Join-Path -Path $scriptDir -ChildPath &quot;..\moonforge\lib\core\constants\app_config.dart&quot;&#10;$versionDartPath = Join-Path -Path $scriptDir -ChildPath &quot;..\moonforge\lib\core\constants\version.dart&quot;&#10;$pubspecPath = Join-Path -Path $scriptDir -ChildPath &quot;..\moonforge\pubspec.yaml&quot;&#10;$pkgbuildPath = Join-Path -Path $scriptDir -ChildPath &quot;..\moonforge\arch_build\PKGBUILD&quot;&#10;&#10;# Use version.dart if app_config.dart doesn't exist yet&#10;if (-not (Test-Path $appConfigPath) -and (Test-Path $versionDartPath))&#10;{&#10;    $appConfigPath = $versionDartPath&#10;}&#10;&#10;# Überprüfen, ob die Konfigurationsdatei existiert&#10;if (-not (Test-Path $appConfigPath))&#10;{&#10;    Write-Error &quot;Configuration file not found: $appConfigPath&quot;&#10;    exit 1&#10;}&#10;&#10;# Show help if requested&#10;if ($Help)&#10;{&#10;    Show-MainHelp&#10;    exit 0&#10;}&#10;&#10;# Function to update version numbers&#10;function Update-Version&#10;{&#10;    param (&#10;        [switch]$NonInteractive&#10;    )&#10;&#10;    # Version aus app_config.dart extrahieren&#10;    $configContent = Get-Content $appConfigPath -Raw&#10;    $majorVersion = [regex]::Match($configContent, 'versionMajor\s*=\s*(\d+)').Groups[1].Value&#10;    $minorVersion = [regex]::Match($configContent, 'versionMinor\s*=\s*(\d+)').Groups[1].Value&#10;    $patchVersion = [regex]::Match($configContent, 'versionPatch\s*=\s*(\d+)').Groups[1].Value&#10;    $buildVersion = [regex]::Match($configContent, 'versionBuild\s*=\s*(\d+)').Groups[1].Value&#10;    $appDescription = [regex]::Match($configContent, 'appDescription\s*=\s*''([^'']+)''').Groups[1].Value&#10;&#10;    # Versionstrings erstellen&#10;    $currentPubspecVersion = &quot;$majorVersion.$minorVersion.$patchVersion+$buildVersion&quot;&#10;    $currentMsixVersion = &quot;$majorVersion.$minorVersion.$patchVersion.$buildVersion&quot;&#10;    $currentPkgbuildVersion = &quot;$majorVersion.$minorVersion.$patchVersion&quot;&#10;&#10;    # Aktuelle Version anzeigen&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;                 SANDI VERSION UPDATER                  &quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Current version: v$majorVersion.$minorVersion.$patchVersion (Build $buildVersion)&quot;&#10;    Write-Host &quot;Description: $appDescription&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Version details:&quot;&#10;    Write-Host &quot;  - Pubspec: $currentPubspecVersion&quot;&#10;    Write-Host &quot;  - MSIX:    $currentMsixVersion&quot;&#10;    Write-Host &quot;  - PKGBUILD: $currentPkgbuildVersion&quot;&#10;    Write-Host &quot;&quot;&#10;&#10;    if ($NonInteractive)&#10;    {&#10;        # In non-interactive mode, just update the files with current version&#10;        $newMajorVersion = $majorVersion&#10;        $newMinorVersion = $minorVersion&#10;        $newPatchVersion = $patchVersion&#10;        $newBuildVersion = $buildVersion&#10;    }&#10;    else&#10;    {&#10;        Write-Host &quot;TIP: Type 'help' at any prompt to see explanations of version numbers.&quot;&#10;        Write-Host &quot;&quot;&#10;        Write-Host &quot;========================================================&quot;&#10;        Write-Host &quot;&quot;&#10;&#10;        # Benutzer nach neuer Version fragen&#10;        Write-Host &quot;Enter new version numbers (press Enter to keep current value):&quot;&#10;        Write-Host &quot;&quot;&#10;&#10;        $newMajorVersion = Get-VersionInput -PromptText &quot;Major version&quot; -DefaultValue $majorVersion&#10;        $newMinorVersion = Get-VersionInput -PromptText &quot;Minor version&quot; -DefaultValue $minorVersion&#10;        $newPatchVersion = Get-VersionInput -PromptText &quot;Patch version&quot; -DefaultValue $patchVersion&#10;        $newBuildVersion = Get-VersionInput -PromptText &quot;Build number&quot; -DefaultValue $buildVersion&#10;&#10;        # Neue Versionstrings erstellen&#10;        $pubspecVersion = &quot;$newMajorVersion.$newMinorVersion.$newPatchVersion+$newBuildVersion&quot;&#10;        $msixVersion = &quot;$newMajorVersion.$newMinorVersion.$newPatchVersion.$newBuildVersion&quot;&#10;        $pkgbuildVersion = &quot;$newMajorVersion.$newMinorVersion.$newPatchVersion&quot;&#10;&#10;        Write-Host &quot;&quot;&#10;        Write-Host &quot;New version will be: v$newMajorVersion.$newMinorVersion.$newPatchVersion (Build $newBuildVersion)&quot;&#10;        $confirmation = Read-Host &quot;Do you want to proceed? (Y/N)&quot;&#10;&#10;        if ($confirmation -ne &quot;Y&quot; -and $confirmation -ne &quot;y&quot;)&#10;        {&#10;            Write-Host &quot;Version update cancelled.&quot;&#10;            return&#10;        }&#10;    }&#10;&#10;    # Neue Versionstrings erstellen&#10;    $pubspecVersion = &quot;$newMajorVersion.$newMinorVersion.$newPatchVersion+$newBuildVersion&quot;&#10;    $msixVersion = &quot;$newMajorVersion.$newMinorVersion.$newPatchVersion.$newBuildVersion&quot;&#10;    $pkgbuildVersion = &quot;$newMajorVersion.$newMinorVersion.$newPatchVersion&quot;&#10;&#10;    # app_config.dart aktualisieren&#10;    Write-Host &quot;Updating app_config.dart...&quot;&#10;    $configContent = [regex]::Replace($configContent, 'versionMajor\s*=\s*\d+', &quot;versionMajor = $newMajorVersion&quot;)&#10;    $configContent = [regex]::Replace($configContent, 'versionMinor\s*=\s*\d+', &quot;versionMinor = $newMinorVersion&quot;)&#10;    $configContent = [regex]::Replace($configContent, 'versionPatch\s*=\s*\d+', &quot;versionPatch = $newPatchVersion&quot;)&#10;    $configContent = [regex]::Replace($configContent, 'versionBuild\s*=\s*\d+', &quot;versionBuild = $newBuildVersion&quot;)&#10;    Set-Content -Path $appConfigPath -Value $configContent&#10;&#10;    # pubspec.yaml aktualisieren&#10;    Write-Host &quot;Updating pubspec.yaml...&quot;&#10;    $pubspecContent = Get-Content $pubspecPath -Raw&#10;    $pubspecContent = [regex]::Replace($pubspecContent, 'version:\s*[\d\.]+\+\d+', &quot;version: $pubspecVersion&quot;)&#10;    $pubspecContent = [regex]::Replace($pubspecContent, 'msix_version:\s*[\d\.]+', &quot;msix_version: $msixVersion&quot;)&#10;    Set-Content -Path $pubspecPath -Value $pubspecContent&#10;&#10;    # PKGBUILD aktualisieren&#10;    Write-Host &quot;Updating PKGBUILD...&quot;&#10;    if (Test-Path -LiteralPath $pkgbuildPath)&#10;    {&#10;        try&#10;        {&#10;            $pkgbuildContent = Get-Content -LiteralPath $pkgbuildPath -Raw&#10;            $pkgbuildContent = [regex]::Replace($pkgbuildContent, 'pkgver=[\d\.]+', &quot;pkgver=$pkgbuildVersion&quot;)&#10;            Set-Content -LiteralPath $pkgbuildPath -Value $pkgbuildContent&#10;        }&#10;        catch&#10;        {&#10;            Write-Host &quot;Skipping PKGBUILD update (error accessing file: $pkgbuildPath)&quot;&#10;            Write-Host &quot;  Details: $( $_.Exception.Message )&quot;&#10;        }&#10;    }&#10;    else&#10;    {&#10;        Write-Host &quot;Skipping PKGBUILD update (file not found: $pkgbuildPath)&quot;&#10;    }&#10;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Version update completed successfully!&quot;&#10;    Write-Host &quot;New version: v$newMajorVersion.$newMinorVersion.$newPatchVersion (Build $newBuildVersion)&quot;&#10;}&#10;&#10;# Function to update app description&#10;function Update-Description&#10;{&#10;    # Description aus app_config.dart extrahieren&#10;    $configContent = Get-Content $appConfigPath -Raw&#10;    $appDescription = [regex]::Match($configContent, 'appDescription\s*=\s*''([^'']+)''').Groups[1].Value&#10;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;              SANDI DESCRIPTION UPDATER                 &quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Current app description:&quot;&#10;    Write-Host &quot;  $appDescription&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;TIP: Type 'help' to see guidelines for writing a good app description.&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;&#10;    # Benutzer nach neuer Beschreibung fragen&#10;    Write-Host &quot;Enter new app description (press Enter to keep current value):&quot;&#10;    Write-Host &quot;Type 'help' to see guidelines for writing a good app description.&quot;&#10;    Write-Host &quot;&quot;&#10;&#10;    $inputComplete = $false&#10;    $newDescription = $appDescription&#10;&#10;    while (-not $inputComplete)&#10;    {&#10;        $input = Read-Host &quot;Description&quot;&#10;&#10;        if ( [string]::IsNullOrWhiteSpace($input))&#10;        {&#10;            $newDescription = $appDescription&#10;            $inputComplete = $true&#10;        }&#10;        elseif ($input.ToLower() -eq &quot;help&quot;)&#10;        {&#10;            Show-DescriptionHelp&#10;        }&#10;        else&#10;        {&#10;            $newDescription = $input&#10;            $inputComplete = $true&#10;        }&#10;    }&#10;&#10;    if ($newDescription -eq $appDescription)&#10;    {&#10;        Write-Host &quot;Description unchanged.&quot;&#10;        return&#10;    }&#10;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;New description will be:&quot;&#10;    Write-Host &quot;  $newDescription&quot;&#10;    $confirmation = Read-Host &quot;Do you want to proceed? (Y/N)&quot;&#10;&#10;    if ($confirmation -ne &quot;Y&quot; -and $confirmation -ne &quot;y&quot;)&#10;    {&#10;        Write-Host &quot;Description update cancelled.&quot;&#10;        return&#10;    }&#10;&#10;    # app_config.dart aktualisieren&#10;    Write-Host &quot;Updating app_config.dart...&quot;&#10;    $configContent = [regex]::Replace($configContent, &quot;appDescription\s*=\s*'[^']+'&quot;, &quot;appDescription = '$newDescription'&quot;)&#10;    Set-Content -Path $appConfigPath -Value $configContent&#10;&#10;    # pubspec.yaml aktualisieren&#10;    Write-Host &quot;Updating pubspec.yaml...&quot;&#10;    $pubspecContent = Get-Content $pubspecPath -Raw&#10;    $pubspecContent = [regex]::Replace($pubspecContent, 'description:\s*&quot;[^&quot;]+&quot;', &quot;description: `&quot;$newDescription`&quot;&quot;)&#10;    Set-Content -Path $pubspecPath -Value $pubspecContent&#10;&#10;    # PKGBUILD aktualisieren&#10;    Write-Host &quot;Updating PKGBUILD description...&quot;&#10;    if (Test-Path -LiteralPath $pkgbuildPath)&#10;    {&#10;        try&#10;        {&#10;            $pkgbuildContent = Get-Content -LiteralPath $pkgbuildPath -Raw&#10;            $replacement = &quot;pkgdesc=`&quot;$newDescription`&quot;&quot;&#10;            $pkgbuildContent = [regex]::Replace($pkgbuildContent,'pkgdesc=&quot;[^&quot;]+&quot;', $replacement)&#10;            Set-Content -LiteralPath $pkgbuildPath -Value $pkgbuildContent&#10;        }&#10;        catch&#10;        {&#10;            Write-Host &quot;Skipping PKGBUILD description update (error accessing file: $pkgbuildPath)&quot;&#10;            Write-Host &quot;  Details: $( $_.Exception.Message )&quot;&#10;        }&#10;    }&#10;    else&#10;    {&#10;        Write-Host &quot;Skipping PKGBUILD description update (file not found: $pkgbuildPath)&quot;&#10;    }&#10;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Description update completed successfully!&quot;&#10;    Write-Host &quot;New description: $newDescription&quot;&#10;}&#10;&#10;# Run in non-interactive mode if requested (for build.ps1)&#10;if ($NonInteractive)&#10;{&#10;    Update-Version -NonInteractive&#10;    exit 0&#10;}&#10;&#10;# Main menu loop&#10;$exitRequested = $false&#10;&#10;while (-not $exitRequested)&#10;{&#10;    Clear-Host&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;                 SANDI CONFIGURATION TOOL               &quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;Please select an option:&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;1. Update Version&quot;&#10;    Write-Host &quot;2. Update Description&quot;&#10;    Write-Host &quot;3. Help&quot;&#10;    Write-Host &quot;4. Exit&quot;&#10;    Write-Host &quot;&quot;&#10;    Write-Host &quot;========================================================&quot;&#10;    Write-Host &quot;&quot;&#10;&#10;    $choice = Read-Host &quot;Enter your choice (1-4)&quot;&#10;&#10;    switch ($choice)&#10;    {&#10;        &quot;1&quot; {&#10;            Clear-Host&#10;            Update-Version&#10;            Write-Host &quot;&quot;&#10;            Write-Host &quot;Press Enter to return to the main menu...&quot;&#10;            Read-Host&#10;        }&#10;        &quot;2&quot; {&#10;            Clear-Host&#10;            Update-Description&#10;            Write-Host &quot;&quot;&#10;            Write-Host &quot;Press Enter to return to the main menu...&quot;&#10;            Read-Host&#10;        }&#10;        &quot;3&quot; {&#10;            Clear-Host&#10;            Show-MainHelp&#10;            Write-Host &quot;Press Enter to return to the main menu...&quot;&#10;            Read-Host&#10;        }&#10;        &quot;4&quot; {&#10;            $exitRequested = $true&#10;            Write-Host &quot;Exiting configuration tool.&quot;&#10;        }&#10;        default {&#10;            Write-Host &quot;Invalid choice. Please enter a number between 1 and 4.&quot;&#10;            Write-Host &quot;Press Enter to continue...&quot;&#10;            Read-Host&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>